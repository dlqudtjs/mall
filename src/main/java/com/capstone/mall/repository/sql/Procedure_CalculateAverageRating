CREATE DEFINER=`root`@`%` PROCEDURE `CalculateAverageRating`(IN p_item_id INT)
BEGIN
    DECLARE v_avg_rating DECIMAL(5, 1);

    SELECT ROUND(AVG(rate), 1) INTO v_avg_rating
    FROM review
    WHERE item_id = p_item_id;

    SELECT v_avg_rating AS average_rating;
END
CREATE PROCEDURE `SearchItemsByKeyword`(
    IN searchKeyword VARCHAR(255)
)
BEGIN
    -- 검색어를 기반으로 해당 키워드를 검색
    SELECT keyword_id FROM keyword WHERE keyword LIKE CONCAT('%', searchKeyword, '%') INTO @searchKeywordIds;

    -- 키워드에 연결된 상품 조회
    SELECT DISTINCT i.item_id, i.name
    FROM item AS i
    INNER JOIN itemKeyword AS ik ON i.item_id = ik.item_id
    WHERE ik.keyword_id IN (
        SELECT DISTINCT keyword_id FROM keyword WHERE keyword LIKE CONCAT('%', searchKeyword, '%')
    );

END
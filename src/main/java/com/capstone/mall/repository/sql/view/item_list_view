CREATE VIEW item_list_by_category_view AS
select
item.item_id,
item.name,
item.category_id,
item.image_1,
item.content,
item.created_at,
item.updated_at,
item.price,
item.stock,
ifnull((select item_count_view.review_count
from item_count_view
where item_count_view.review_item_id = item.item_id), 0) as review_count,
ifnull((select item_avg_view.avg_rating
from item_avg_view
where item_avg_view.avg_item_id = item.item_id), 0) as avg_rating,
ifnull((select item_sales_view.sales
from item_sales_view
where item_sales_view.sales_item_id = item.item_id), 0) as sales
from item
